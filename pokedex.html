<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pokédex Gamma Emerald</title>
    <meta property="og:title" content="Pokédex Gamma Emerald">
    <meta property="og:description" content="Pokédex Gamma Emerald">
    <meta property="og:image" content="https://assets.pokemon.com/assets/cms2/img/misc/virtual-backgrounds/emerald/emerald-02.jpg">
    <meta property="og:url" content="https://example.com">
    <meta name="description" content="Pokédex Gamma Emerald">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <style>
.main-header {
    background-color: rgba(24, 28, 26, 0.8);
    color: var(--white);
    padding: 10px 0;
    position: fixed;
    top: 0; left: 0; width: 100%; z-index: 100;
    box-shadow: 0 4px 25px rgba(0, 255, 110, 0.15);
    backdrop-filter: blur(10px);
    transition: all var(--speed-normal) ease;
    border-bottom: 1px solid rgba(0, 255, 110, 0.15);
}
.main-header .container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 10px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.logo { display: flex; align-items: center; gap: 10px; }
.logo img { height: 42px; transition: all 0.3s ease; filter: drop-shadow(0 0 5px rgba(0,255,110,0.3)); }
.logo:hover img { transform: scale(1.1); filter: drop-shadow(0 0 15px rgba(0,255,110,0.7)); }
.logo h2 { font-family: 'Press Start 2P', cursive; font-size: 15px; color: var(--accent); text-shadow: 0 0 10px rgba(10, 120, 50, 0.7); letter-spacing: 1px; }
.main-nav ul { display: flex; list-style: none; gap: 35px; }
.main-nav a { font-family:'Press Start 2P'; color: #aaffaa; text-transform: uppercase; font-size: 11px; letter-spacing: 1px; position: relative; transition: all 0.3s ease; text-decoration:none; }
.main-nav a::after { content: ''; position: absolute; left: 0; bottom: -5px; width: 0%; height: 2px; background: var(--accent); transition: width 0.3s ease; border-radius:2px; }
.main-nav a:hover::after { width: 100%; }
.main-nav a:hover { color: var(--accent); text-shadow: 0 0 10px rgba(0,255,110,0.5); transform: scale(1.03); }
.menu-toggle { display: none; background: none; border: none; color: var(--white); font-size: 24px; cursor: pointer; }




 .loading-screen {
    position: fixed;
    z-index: 9999;
    inset: 0;
    background: linear-gradient(135deg, #0a2e0a 0%, #181c1a 100%);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    transition: opacity 0.7s;
    opacity: 1;
    pointer-events: all;
}
.loading-screen.hidden {
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.7s;
}
.pokeball {
    width: 64px;
    height: 64px;
    position: relative;
    margin-bottom: 24px;
    animation: pokeball-bounce 1.2s infinite;
}
.pokeball-top,
.pokeball-bottom {
    position: absolute;
    left: 0;
    width: 64px;
    height: 32px;
    border: 2px solid #222;
    box-sizing: border-box;
}
.pokeball-top {
    top: 0;
    background: #fff;
    border-bottom: none;
    border-radius: 32px 32px 0 0;
    background: #e63900;
}
.pokeball-bottom {
    bottom: 0;
    background: #fff;
    border-top: none;
    border-radius: 0 0 32px 32px;
}
.pokeball-center {
    position: absolute;
    top: 24px;
    left: 24px;
    width: 16px;
    height: 16px;
    background: #fff;
    border: 3px solid #222;
    border-radius: 50%;
    z-index: 2;
    box-shadow: 0 0 0 4px #e63900;
}
.loading-text {
    color: #00ff6e;
    font-family: 'Press Start 2P', cursive;
    font-size: 1rem;
    letter-spacing: 2px;
    text-align: center;
    margin-top: 10px;
    text-shadow: 0 0 10px #00ff6e44;
}
@keyframes pokeball-bounce {
    0%, 100% { transform: translateY(0);}
    20% { transform: translateY(-18px);}
    40% { transform: translateY(0);}
    60% { transform: translateY(-8px);}
    80% { transform: translateY(0);}
}
@media (max-width: 576px) {
    .loading-text { font-size: 0.8rem; }
}
.main-header.scrolled {
    background-color: rgba(24, 28, 26, 0.9);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
}
#particles-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
}
.particle {
    animation: glow 2s ease-in-out infinite;
}

@keyframes glow {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.8; }
}
:root {
  --bg:#08120a;--card:#122217;--accent:#00ff6e;--glass:rgba(255,255,255,0.03);--muted:#9bb79b;--light-green:#aaffaa;
  --normal:#A8A77A;--fire:#EE8130;--water:#6390F0;--electric:#F7D02C;--grass:#7AC74C;--ice:#96D9D6;
  --fighting:#C22E28;--poison:#A33EA1;--ground:#E2BF65;--flying:#A98FF3;--psychic:#F95587;--bug:#A6B91A;
  --rock:#B6A136;--ghost:#735797;--dragon:#6F35FC;--dark:#705746;--steel:#B7B7CE;--fairy:#D685AD;
}
*{box-sizing:border-box}
body{font-family:Roboto,system-ui,-apple-system,Segoe UI,Arial;min-height:100vh;margin:0;background:linear-gradient(180deg,#04100a 0%,#07140c 100%);color:#e8ffe8;padding:32px}
h1{font-family:'Press Start 2P',cursive;color:var(--accent);font-size:20px;margin:0 0 18px}
.wrap{max-width:1200px;margin:0 auto;padding:70px}
.controls{display:flex;flex-direction:column;gap:12px;align-items:stretch;margin-bottom:18px}
.search{flex:1;min-width:220px}
.search input{width:100%;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);background:var(--glass);color:inherit}
.filters{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-start}
.btn{padding:10px 14px;border-radius:12px;background:transparent;border:1px solid rgba(255,255,255,0.06);cursor:pointer;color:var(--light-green)}
.btn.active{border-color:var(--accent);box-shadow:0 6px 20px rgba(0,255,110,0.06);}
.pokedex{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:14px}
.card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.06));border-radius:14px;padding:12px;border:1px solid rgba(255,255,255,0.04);backdrop-filter:blur(6px);cursor:pointer;transition:transform .18s ease,box-shadow .18s;overflow:hidden}
.card:hover{transform:translateY(-6px);box-shadow:0 16px 40px rgba(0,0,0,0.6)}
.sprite{height:96px;display:flex;align-items:center;justify-content:center}
.sprite img{max-height:86px}
.title{display:flex;flex-direction:column;align-items:flex-start;gap:4px}
.title h3{margin:0;font-size:14px;color:var(--accent);font-family:'Press Start 2P',cursive;word-break:break-word}
.id-number{font-size:11px;color:var(--light-green);font-family:'Press Start 2P',cursive;opacity:0.9;margin-bottom:4px}
.type-row{display:flex;flex-wrap:wrap;gap:4px;margin-top:4px}
.type-badge{font-size:11px;padding:4px 6px;border-radius:8px;color:#000;border:1px solid rgba(255,255,255,0.02);white-space:nowrap}
.type-badge.normal{background:var(--normal)}.type-badge.fire{background:var(--fire)}.type-badge.water{background:var(--water)}.type-badge.electric{background:var(--electric)}.type-badge.grass{background:var(--grass)}.type-badge.ice{background:var(--ice)}.type-badge.fighting{background:var(--fighting)}.type-badge.poison{background:var(--poison)}.type-badge.ground{background:var(--ground)}.type-badge.flying{background:var(--flying)}.type-badge.psychic{background:var(--psychic)}.type-badge.bug{background:var(--bug)}.type-badge.rock{background:var(--rock)}.type-badge.ghost{background:var(--ghost)}.type-badge.dragon{background:var(--dragon)}.type-badge.dark{background:var(--dark)}.type-badge.steel{background:var(--steel)}.type-badge.fairy{background:var(--fairy)}
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(0,0,0,0.45),rgba(0,0,0,0.6));visibility:hidden;opacity:0;transition:opacity .18s}
.modal.show{visibility:visible;opacity:1}
.modal-card{width:min(880px,96%);background:linear-gradient(180deg,#0b2510,#0f2f15);border-radius:14px;padding:18px;border:1px solid rgba(0,255,110,0.07);display:grid;grid-template-columns:240px 1fr;gap:12px;overflow:auto}
.modal-sprite{display:flex;align-items:center;justify-content:center}
.modal h2{margin:0;font-family:'Press Start 2P',cursive;color:var(--accent);font-size:18px}
.close{position:absolute;right:22px;top:22px;border:none;background:none;color:var(--accent);font-size:18px;cursor:pointer}
.stats{display:flex;flex-direction:column;gap:8px;margin-top:6px}
.stat-row{display:flex;align-items:center;gap:8px}
.bar{flex:1;height:10px;background:rgba(255,255,255,0.06);border-radius:8px;overflow:hidden}
.bar-fill{height:100%;background:linear-gradient(90deg,var(--accent),#00ff6e);box-shadow:0 4px 14px rgba(0,255,110,0.08)}
@media (max-width:720px){.modal-card{grid-template-columns:1fr;background:linear-gradient(180deg,#08140b,#0c1b10)}.sprite img{height:72px}}
</style>
</head>
<body>
    <div id="particles-background"></div>
    <div class="loading-screen">
        <div class="pokeball">
            <div class="pokeball-top"></div>
            <div class="pokeball-bottom"></div>
            <div class="pokeball-center"></div>
        </div>
        <p class="loading-text">Loading...</p>
    </div>
    <header class="main-header">
  <div class="container">
    <div class="logo">
      <img src="pokgamma.png" alt="logo">
      <h2 >Gamma Emerald</h2>
    </div>
    <nav class="main-nav">
      <ul>
        <li><a href="index.html" class="nav-link">Main Page</a></li>
        <li><a href="#pokedex" class="nav-link">Pokédex</a></li>
      </ul>
    </nav>
  </div>
  <button class="menu-toggle" aria-label="Menu">☰</button>
</header>
        <div class="wrap">
<h1 style="padding: 20px;">Gamma Emerald Pokédex</h1>
<div class="controls">
  <div class="search"><input id="q" placeholder="Search name or number (e.g. Treecko or 67)" /></div>
  <div class="filters">
    <button class="btn" data-filter="all">All</button>
    <button class="btn" data-filter="grass">Grass</button>
    <button class="btn" data-filter="fire">Fire</button>
    <button class="btn" data-filter="water">Water</button>
    <button class="btn" data-filter="normal">Normal</button>
    <button class="btn" data-filter="fighting">Fighting</button>
    <button class="btn" data-filter="psychic">Psychic</button>
    <button class="btn" data-filter="dragon">Dragon</button>
    <button class="btn" data-filter="bug">Bug</button>
    <button class="btn" data-filter="poison">Poison</button>
    <button class="btn" data-filter="ground">Ground</button>
    <button class="btn" data-filter="rock">Rock</button>
    <button class="btn" data-filter="ghost">Ghost</button>
    <button class="btn" data-filter="dark">Dark</button>
    <button class="btn" data-filter="steel">Steel</button>
    <button class="btn" data-filter="fairy">Fairy</button>
  </div>
</div>
<div id="pokedex" class="pokedex"></div>
<div id="modal" class="modal"><div class="modal-card"><button id="close" class="close">✕</button><div class="modal-sprite"><img id="modal-img" src="" alt="sprite" style="max-width:200px;" /></div><div><h2 id="modal-title">—</h2><div id="modal-types" style="display:flex;gap:8px;margin-top:8px;flex-wrap:wrap"></div><div class="stats" id="modal-stats"></div></div></div></div>
</div>
</div>
<script>
 document.addEventListener('DOMContentLoaded', function() {

    const loadingScreen = document.querySelector('.loading-screen');
    
    setTimeout(() => {
        loadingScreen.classList.add('hidden');
    }, 2000);
    

    createParticles();
    

    const menuToggle = document.querySelector('.menu-toggle');
    const mainNav = document.querySelector('.main-nav');
    
    menuToggle.addEventListener('click', function() {
        mainNav.classList.toggle('active');
        this.textContent = mainNav.classList.contains('active') ? '✕' : '☰';
    });
    

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                const headerHeight = document.querySelector('.main-header').offsetHeight;
                const targetPosition = targetElement.offsetTop - headerHeight;
                
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
                
         
                if (mainNav.classList.contains('active')) {
                    mainNav.classList.remove('active');
                    menuToggle.textContent = '☰';
                }
            }
        });
    });
    

    const header = document.querySelector('.main-header');
    
    window.addEventListener('scroll', function() {
        if (window.scrollY > 50) {
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
    });
    
 
    const revealTextElements = document.querySelectorAll('.reveal-text');
    
    setTimeout(() => {
        revealTextElements.forEach(element => {
            element.classList.add('visible');
        });
    }, 500);
    

    const revealTitle = document.querySelector('.reveal-title');
    if (revealTitle) {
        setTimeout(() => {
            revealTitle.classList.add('visible');
        }, 300);
    }
    

    const scrollRevealElements = document.querySelectorAll('.scroll-reveal');
    const storyText = document.querySelector('.story-text');
    
    function checkScrollReveal() {
        scrollRevealElements.forEach(element => {
            const elementTop = element.getBoundingClientRect().top;
            const triggerPoint = window.innerHeight * 0.8;
            
            if (elementTop < triggerPoint) {
                element.classList.add('visible');
            }
        });
        
        if (storyText) {
            const storyTextTop = storyText.getBoundingClientRect().top;
            const triggerPoint = window.innerHeight * 0.8;
            
            if (storyTextTop < triggerPoint) {
                storyText.classList.add('visible');
            }
        }
    }
    
  
    window.addEventListener('scroll', checkScrollReveal);
    window.addEventListener('load', checkScrollReveal);
    
 
    const parallaxImg = document.querySelector('.parallax-img');
    
    if (parallaxImg) {
        window.addEventListener('scroll', function() {
            const scrollPosition = window.pageYOffset;
            const storySection = document.querySelector('.story');
            const storySectionTop = storySection.offsetTop;
            const storySectionHeight = storySection.offsetHeight;
            
            if (scrollPosition > storySectionTop - window.innerHeight && 
                scrollPosition < storySectionTop + storySectionHeight) {
                const relativeScroll = (scrollPosition - (storySectionTop - window.innerHeight)) / (storySectionHeight + window.innerHeight);
                const translateY = relativeScroll * 50; 
                
                parallaxImg.style.transform = `translateY(-${translateY}px)`;
            }
        });
    }
    

    const pokemonCards = document.querySelectorAll('.pokemon-card');
    
    pokemonCards.forEach(card => {
        const cardInner = card.querySelector('.card-inner');
        
        card.addEventListener('click', function() {
            cardInner.classList.toggle('flipped');
        });
    });
    
    const featureCards = document.querySelectorAll('.feature-card');
    
    featureCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            setTimeout(() => {
                card.querySelector('.feature-shine').style.left = '150%';
            }, 0);
        });
        
        card.addEventListener('mouseleave', function() {
            card.querySelector('.feature-shine').style.left = '-150%';
        });
    });
});

function createParticles() {
    const particlesContainer = document.getElementById('particles-background');
    const particleCount = window.innerWidth < 768 ? 30 : 60;

    particlesContainer.innerHTML = '';

    for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';

        const size = Math.random() * 3 + 1;
        const posX = Math.random() * 100; 
        const posY = Math.random() * 100;
        const opacity = Math.random() * 0.5 + 0.1;

        particle.style.cssText = `
            position: absolute;
            width: ${size}px;
            height: ${size}px;
            background-color: rgba(0, 255, 110, ${opacity});
            left: ${posX}%;
            top: ${posY}%;
            border-radius: 50%;
            box-shadow: 0 0 ${size * 2}px rgba(0, 255, 110, ${opacity});
            pointer-events: none;
            transform: translate(0, 0);
        `;

        particlesContainer.appendChild(particle);
    }

}
    const style = document.createElement('style');
    style.textContent = `
        @keyframes floatParticle {
            0% {
                transform: translate(0, 0);
            }
            25% {
                transform: translate(${Math.random() * 100 - 50}px, ${Math.random() * 100 - 50}px);
            }
            50% {
                transform: translate(${Math.random() * 100 - 50}px, ${Math.random() * 100 - 50}px);
            }
            75% {
                transform: translate(${Math.random() * 100 - 50}px, ${Math.random() * 100 - 50}px);
            }
            100% {
                transform: translate(0, 0);
            }
        }
    `;
    document.head.appendChild(style);
    
   
    document.addEventListener('mousemove', function(e) {
        const particles = document.querySelectorAll('.particle');
        const mouseX = e.clientX / window.innerWidth;
        const mouseY = e.clientY / window.innerHeight;
        
        particles.forEach(particle => {
            const moveX = (mouseX - 0.5) * 20;
            const moveY = (mouseY - 0.5) * 20;
            const particleLeft = parseFloat(particle.style.left);
            const particleTop = parseFloat(particle.style.top);
            
           
            particle.style.transform = `translate(${moveX}px, ${moveY}px)`;
        });
    });
function isInViewport(element) {
    const rect = element.getBoundingClientRect();
    return (
        rect.top <= (window.innerHeight || document.documentElement.clientHeight) * 0.8 &&
        rect.bottom >= 0
    );
}

function handleScrollAnimations() {
   
    const statBars = document.querySelectorAll('.stat-fill');
    
    statBars.forEach(bar => {
        const card = bar.closest('.pokemon-card');
        
        if (isInViewport(card) && !bar.classList.contains('animated')) {
            setTimeout(() => {
                bar.classList.add('animated');
            }, 300);
        }
    });
}

window.addEventListener('scroll', handleScrollAnimations);
window.addEventListener('load', handleScrollAnimations);
  
const pokemonList=['Treecko','Grovyle','Sceptile','Torchic','Combusken','Blaziken','Mudkip','Marshtomp','Swampert','Poochyena','Mightyena','Zigzagoon','Linoone','Wurmple','Silcoon','Beautifly','Cascoon','Dustox','Lotad','Lombre','Ludicolo','Swablu','Altaria','Horsea','Seadra','Kingdra','Volbeat','Illumise','Pikachu','Zangoose','Seviper','Rhyhorn','Rhydon','Rhyperior','Kecleon','Vulpix','Ninetales','Psyduck','Golduck','Heracross','Meditite','Medicham','Natu','Xatu','Shuppet','Banette','Beldum','Metang','Metagross','Dragonite','Onix','Cresselia','Ralts','Kirlia','Gardevoir','Lucario','Shaymin','Bellossom'];

const typesByPokemon={Treecko:['grass'],Grovyle:['grass'],Sceptile:['grass'],Torchic:['fire'],Combusken:['fire','fighting'],Blaziken:['fire','fighting'],Mudkip:['water'],Marshtomp:['water','ground'],Swampert:['water','ground'],Poochyena:['dark'],Mightyena:['dark'],Zigzagoon:['normal'],Linoone:['normal'],Wurmple:['bug'],Silcoon:['bug'],Beautifly:['bug','flying'],Cascoon:['bug'],Dustox:['bug','poison'],Lotad:['water','grass'],Lombre:['water','grass'],Ludicolo:['water','grass'],Swablu:['normal','flying'],Altaria:['dragon','flying'],Horsea:['water'],Seadra:['water'],Kingdra:['water','dragon'],Volbeat:['bug'],Illumise:['bug'],Pikachu:['electric'],Zangoose:['normal'],Seviper:['poison'],Rhyhorn:['ground','rock'],Rhydon:['ground','rock'],Rhyperior:['ground','rock'],Kecleon:['normal'],Vulpix:['fire'],Ninetales:['fire'],Psyduck:['water'],Golduck:['water'],Heracross:['bug','fighting'],Meditite:['fighting','psychic'],Medicham:['fighting','psychic'],Natu:['psychic','flying'],Xatu:['psychic','flying'],Shuppet:['ghost'],Banette:['ghost'],Beldum:['steel','psychic'],Metang:['steel','psychic'],Metagross:['steel','psychic'],Dragonite:['dragon','flying'],Onix:['rock','ground'],Cresselia:['psychic'],Ralts:['psychic','fairy'],Kirlia:['psychic','fairy'],Gardevoir:['psychic','fairy'],Lucario:['fighting','steel'],Shaymin:['grass'],Bellossom:['grass']};

function makeStats(seed){const base=(seed%80)+40;return{HP:base,ATK:Math.min(255,base+Math.floor(seed/3)),DEF:Math.max(30,base-10),SPD:Math.max(30,90-(seed%40))}};
function spriteFor(name){const n=name.toLowerCase().replace(/[^a-z0-9]/g,'');return`https://img.pokemondb.net/sprites/black-white/anim/normal/${n}.gif`;}

const pokedexEl=document.getElementById('pokedex');
const filterBtns=[...document.querySelectorAll('[data-filter]')];
const qInput=document.getElementById('q');

const pokedex=pokemonList.map((name,i)=>{const stats=makeStats(i+Math.floor(Math.random()*20));const types=typesByPokemon[name]||['normal'];return{id:i+1,name,types,sprite:spriteFor(name),stats}});

function render(list){pokedexEl.innerHTML='';list.forEach(p=>{const card=document.createElement('button');card.className='card';card.innerHTML=`<div class="sprite"><img loading="lazy" src="${p.sprite}" alt="${p.name}" onerror="this.src='https://via.placeholder.com/96x96?text=?'"/></div><div class="title"><div class='id-number'>#${String(p.id).padStart(3,'0')}</div><h3>${p.name}</h3><div class='type-row'>${p.types.map(t=>`<div class='type-badge ${t}'>${t}</div>`).join('')}</div></div>`;card.addEventListener('click',()=>openModal(p));pokedexEl.appendChild(card)})}

function openModal(p){const modal=document.getElementById('modal');document.getElementById('modal-img').src=p.sprite;document.getElementById('modal-title').textContent=`#${String(p.id).padStart(3,'0')} ${p.name}`;const typesEl=document.getElementById('modal-types');typesEl.innerHTML='';p.types.forEach(t=>{const b=document.createElement('div');b.className='type-badge '+t;b.textContent=t;typesEl.appendChild(b)});const statsEl=document.getElementById('modal-stats');statsEl.innerHTML='';for(const[k,v]of Object.entries(p.stats)){const row=document.createElement('div');row.className='stat-row';row.innerHTML=`<div style='width:64px;font-size:12px;color:rgba(255,255,255,0.6);font-family:"Press Start 2P",cursive'>${k}</div><div class='bar'><div class='bar-fill' style='width:${Math.min(100,(v/300)*100)}%'></div></div><div style='width:40px;text-align:right;font-size:12px;color:#cfe9cf'>${v}</div>`;statsEl.appendChild(row)}modal.classList.add('show')}

document.getElementById('close').addEventListener('click',()=>document.getElementById('modal').classList.remove('show'));
window.addEventListener('click',e=>{if(e.target.id==='modal')document.getElementById('modal').classList.remove('show')});

filterBtns.forEach(b=>b.addEventListener('click',()=>{
  if(b.dataset.filter==='all'){
    filterBtns.forEach(x=>x.classList.remove('active'));
    b.classList.add('active');
  } else {
    b.classList.toggle('active');
    filterBtns.find(x=>x.dataset.filter==='all').classList.remove('active');
  }
  applyFilters();
}));

function applyFilters(){
  const q=qInput.value.trim().toLowerCase();
  const activeTypes=filterBtns.filter(b=>b.classList.contains('active')&&b.dataset.filter!=='all').map(b=>b.dataset.filter);
  const filtered=pokedex.filter(p=>{
    const matchesQ=!q||p.name.toLowerCase().includes(q)||String(p.id)===q;
    const matchesType=activeTypes.length===0||activeTypes.every(t=>p.types.includes(t));
    return matchesQ&&matchesType;
  });
  render(filtered);
}

qInput.addEventListener('input',applyFilters);
filterBtns[0].classList.add('active');
render(pokedex);
</script>
</body>
</html>





